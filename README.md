# RiverAI
# ü§ñ –ò–ò-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –†–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ (RiverAI)

**–ü—Ä–æ–µ–∫—Ç** –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤ –≤ Telegram: —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º —É—á–µ–Ω–∏–∫–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É—á–µ–±–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ –∏ –∑–∞–¥–∞–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç –∏ –≤–µ–¥–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞ —Å –ò–ò.  

## üéØ –¶–µ–ª—å –∏ –∞—É–¥–∏—Ç–æ—Ä–∏—è  
- **–¶–µ–ª—å**: –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–∏–∑–∏—Ç –≤—Ä–µ–º—è –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç, –ø–æ–∑–≤–æ–ª–∏—Ç –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —É—á–µ–±–Ω—ã–µ –ø–ª–∞–Ω—ã –∏ –∑–∞–¥–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤–µ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥ —Å –ò–ò –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞.  
- **–ê—É–¥–∏—Ç–æ—Ä–∏—è**: —á–∞—Å—Ç–Ω—ã–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã –∏ –Ω–µ–±–æ–ª—å—à–∏–µ —É—á–µ–±–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–≤—ã—Å–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã –∏ —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ–±—è.  

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–æ–≤ –∏ –∑–∞–¥–∞–Ω–∏–π –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é —Ç–µ–º—ã.  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏.  
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —á–∞—Ç —Å GPT –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞.  
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (PDF) –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–µ –∏–ª–∏ –≤ S3.  
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.  
- –í—ã—Å–æ–∫–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.  

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã  
![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](https://raw.githubusercontent.com/your-repo/riverai/main/architecture.png)  
1. **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (bot_app)**  
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç Telegram (Aiogram 3), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã, –º–µ–Ω–µ–¥–∂–∏—Ç FSM –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å :contentReference[oaicite:0]{index=0}.  
2. **–†–µ–∑–µ—Ä–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**  
   - –î—É–±–ª–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –±–æ—Ç–∞ –∏ –≥–æ—Ç–æ–≤ –≤–∑—è—Ç—å –Ω–∞ —Å–µ–±—è —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ —Å–±–æ–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ.  
3. **–°–µ—Ä–≤–µ—Ä –æ—á–µ—Ä–µ–¥–µ–π (RabbitMQ + Redis)**  
   - RabbitMQ —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—è–º–∏ `task_queue` –∏ `result_queue`, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É –∑–∞–¥–∞—á –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.  
   - Redis —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ FSM –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –±–æ—Ç–∞ –∏ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ :contentReference[oaicite:1]{index=1}.  
4. **–í–æ—Ä–∫–µ—Ä—ã (worker_app)**  
   - –í—ã–ø–æ–ª–Ω—è—é—Ç —Ç—è–∂—ë–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –∑–∞–ø—Ä–æ—Å—ã –∫ OpenAI API, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —á–µ—Ä–µ–∑ LaTeX, –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫.  
   - –ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö –¥–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è :contentReference[oaicite:2]{index=2}.  
5. **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (PostgreSQL + —Ä–µ–ø–ª–∏–∫–∞)**  
   - –û—Å–Ω–æ–≤–Ω–∞—è –ë–î —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É—á–µ–Ω–∏–∫–æ–≤, –∏—Å—Ç–æ—Ä–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ–¥–ø–∏—Å–∫–∏.  
   - –†–µ–ø–ª–∏–∫–∞ –≤ —Ä–µ–∂–∏–º–µ Hot Standby –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –±—ã—Å—Ç—Ä—É—é –∑–∞–º–µ–Ω—É –ø—Ä–∏ —Å–±–æ–µ.  

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π  
- **–Ø–∑—ã–∫ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏**: Python 3.10+, Aiogram 3, asyncio  
- **–û—á–µ—Ä–µ–¥–∏ –∏ –∫—ç—à**: RabbitMQ, Redis  
- **–ë–î**: PostgreSQL (master‚Äìslave —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è)  
- **–ò–ò**: OpenAI GPT-3.5/4 —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Python SDK  
- **PDF**: LaTeX (TexLive) + PyLaTeX –∏–ª–∏ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ `pdflatex`  
- **–•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ (OAuth) –∏–ª–∏ S3  
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose  

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Å–ø–∏—Å–æ–∫.  
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—á–µ–±–Ω–æ–≥–æ –ø–ª–∞–Ω–∞**: –≤–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è ‚Üí —Ç–µ–∫—Å—Ç/PDF ‚Üí –æ–ø—Ü–∏–∏ ¬´–ò—Å–ø—Ä–∞–≤–∏—Ç—å¬ª / ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª.  
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π**: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø–ª–∞–Ω—É, + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –≤ —á–∞—Ç.  
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è**: –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ ‚Üí –æ—Ç—á—ë—Ç —Å –æ—à–∏–±–∫–∞–º–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.  
5. **–ß–∞—Ç —Å GPT**: –¥–∏–∞–ª–æ–≥ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ—Ñ–∏–ª—è —É—á–µ–Ω–∏–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–æ–æ–±—â–µ–Ω–∏–π.  
6. **–ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ª–∏–º–∏—Ç—ã**: –±–∞–∑–æ–≤—ã–π –∏ –ø—Ä–µ–º–∏—É–º —Ç–∞—Ä–∏—Ñ—ã, –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π.  
7. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –∏–º—è, –ø–∞—Ä–æ–ª—å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —è–∑—ã–∫, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞.  

## üì• –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç  
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞.  
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` ‚Üí `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.  
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `docker-compose up --build` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è.  
4. –ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram –∏ –Ω–∞–ø–∏—Å–∞—Ç—å `/start` –≤–∞—à–µ–º—É –±–æ—Ç—É.  

---

> –ü—Ä–æ–µ–∫—Ç **–ò–ò-–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –†–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞** –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è, –ø–æ–≤—ã—Å–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ—Å—Ç–∞–≤–∏–≤ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∂–∏–≤–æ–≥–æ –æ–±—â–µ–Ω–∏—è —Å —É—á–µ–Ω–∏–∫–∞–º–∏.  
